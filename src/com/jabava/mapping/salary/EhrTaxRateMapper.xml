<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.jabava.dao.salary.EhrTaxRateMapper" >
  <resultMap id="BaseResultMap" type="com.jabava.pojo.salary.EhrTaxRate" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Mar 22 15:39:29 CST 2016.
    -->
    <id column="tax_rate_id" property="taxRateId" jdbcType="BIGINT" />
    <result column="tax_rate_name" property="taxRateName" jdbcType="VARCHAR" />
    <result column="tax_rate_memo" property="taxRateMemo" jdbcType="VARCHAR" />
    <result column="threshold" property="threshold" jdbcType="DECIMAL" />
    <result column="company_id" property="companyId" jdbcType="BIGINT" />
  </resultMap>
  <sql id="Base_Column_List" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Mar 22 15:39:29 CST 2016.
    -->
    tax_rate_id, tax_rate_name, tax_rate_memo, threshold, company_id
  </sql>
  <select id="selectByPrimaryKey" resultMap="BaseResultMap" parameterType="java.lang.Long" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Mar 22 15:39:29 CST 2016.
    -->
    select 
    <include refid="Base_Column_List" />
    from ehr_tax_rate
    where tax_rate_id = #{taxRateId,jdbcType=BIGINT}
  </select>
  <delete id="deleteByPrimaryKey" parameterType="java.lang.Long" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Mar 22 15:39:29 CST 2016.
    -->
    delete from ehr_tax_rate
    where tax_rate_id = #{taxRateId,jdbcType=BIGINT}
  </delete>
  <insert id="insert" parameterType="com.jabava.pojo.salary.EhrTaxRate" 
  		useGeneratedKeys="true" keyProperty="taxRateId">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Mar 22 15:39:29 CST 2016.
    -->
    insert into ehr_tax_rate (tax_rate_id, tax_rate_name, tax_rate_memo, 
      threshold, company_id)
    values (#{taxRateId,jdbcType=BIGINT}, #{taxRateName,jdbcType=VARCHAR}, #{taxRateMemo,jdbcType=VARCHAR}, 
      #{threshold,jdbcType=DECIMAL}, #{companyId,jdbcType=BIGINT})
  </insert>
  <insert id="insertSelective" parameterType="com.jabava.pojo.salary.EhrTaxRate" 
  		useGeneratedKeys="true" keyProperty="taxRateId">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Mar 22 15:39:29 CST 2016.
    -->
    insert into ehr_tax_rate
    <trim prefix="(" suffix=")" suffixOverrides="," >
      <if test="taxRateId != null" >
        tax_rate_id,
      </if>
      <if test="taxRateName != null" >
        tax_rate_name,
      </if>
      <if test="taxRateMemo != null" >
        tax_rate_memo,
      </if>
      <if test="threshold != null" >
        threshold,
      </if>
      <if test="companyId != null" >
        company_id,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides="," >
      <if test="taxRateId != null" >
        #{taxRateId,jdbcType=BIGINT},
      </if>
      <if test="taxRateName != null" >
        #{taxRateName,jdbcType=VARCHAR},
      </if>
      <if test="taxRateMemo != null" >
        #{taxRateMemo,jdbcType=VARCHAR},
      </if>
      <if test="threshold != null" >
        #{threshold,jdbcType=DECIMAL},
      </if>
      <if test="companyId != null" >
        #{companyId,jdbcType=BIGINT},
      </if>
    </trim>
  </insert>
  <update id="updateByPrimaryKeySelective" parameterType="com.jabava.pojo.salary.EhrTaxRate" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Mar 22 15:39:29 CST 2016.
    -->
    update ehr_tax_rate
    <set >
      <if test="taxRateName != null" >
        tax_rate_name = #{taxRateName,jdbcType=VARCHAR},
      </if>
      <if test="taxRateMemo != null" >
        tax_rate_memo = #{taxRateMemo,jdbcType=VARCHAR},
      </if>
      <if test="threshold != null" >
        threshold = #{threshold,jdbcType=DECIMAL},
      </if>
      <if test="companyId != null" >
        company_id = #{companyId,jdbcType=BIGINT},
      </if>
    </set>
    where tax_rate_id = #{taxRateId,jdbcType=BIGINT}
  </update>
  <update id="updateByPrimaryKey" parameterType="com.jabava.pojo.salary.EhrTaxRate" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Mar 22 15:39:29 CST 2016.
    -->
    update ehr_tax_rate
    set tax_rate_name = #{taxRateName,jdbcType=VARCHAR},
      tax_rate_memo = #{taxRateMemo,jdbcType=VARCHAR},
      threshold = #{threshold,jdbcType=DECIMAL},
      company_id = #{companyId,jdbcType=BIGINT}
    where tax_rate_id = #{taxRateId,jdbcType=BIGINT}
  </update>
  
  <select id="listTaxRatePage" resultMap="BaseResultMap">
  	select * from ehr_tax_rate  
  	where company_id=#{companyId,jdbcType=BIGINT}
  	<if test="search != null and search != ''" >
  		and tax_rate_name like CONCAT('%',#{search,jdbcType=VARCHAR},'%')
  	</if>
  </select>
  <select id="listTaxRate" resultMap="BaseResultMap">
  	select * from ehr_tax_rate  
  	where company_id=#{companyId,jdbcType=BIGINT}
  </select>
  <select id="selectByName" resultMap="BaseResultMap">
  	select * from ehr_tax_rate
  	where company_id=#{companyId,jdbcType=BIGINT} and tax_rate_name = #{taxRateName,jdbcType=VARCHAR}
  </select>
  <delete id="deleteById">
  	delete from ehr_tax_rate 
  	where company_id=#{companyId,jdbcType=BIGINT} and tax_rate_id=#{taxRateId,jdbcType=BIGINT}
  </delete>
  
  <select id="countByTaxRate" resultType="Integer">
  	select count(1) from ehr_tax_rate where tax_rate_id = #{taxRateId,jdbcType=BIGINT}
  </select>
</mapper>