<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.jabava.dao.hro.order.HsEmpOrdNsbDetailRecMapper" >
  <resultMap id="BaseResultMap" type="com.jabava.pojo.hro.order.HsEmpOrdNsbDetailRec" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    <id column="ord_nsb_rec_id" property="ordNsbRecId" jdbcType="BIGINT" />
     <result column="company_id" property="companyId" jdbcType="BIGINT" />
    <result column="order_record_id" property="orderRecordId" jdbcType="BIGINT" />
    <result column="quotation_name" property="quotationName" jdbcType="VARCHAR" />
    <result column="offer_id" property="offerId" jdbcType="BIGINT" />
    <result column="prod_name" property="prodName" jdbcType="VARCHAR" />
    <result column="item_id" property="itemId" jdbcType="BIGINT" />
    <result column="item_type" property="itemType" jdbcType="VARCHAR" />
    <result column="payment_start_month" property="paymentStartMonth" jdbcType="CHAR" />
    <result column="payment_satrt_day" property="paymentSatrtDay" jdbcType="CHAR" />
    <result column="payment_end_month" property="paymentEndMonth" jdbcType="CHAR" />
    <result column="payment_end_day" property="paymentEndDay" jdbcType="CHAR" />
    <result column="bill_start_month" property="billStartMonth" jdbcType="CHAR" />
    <result column="bill_end_month" property="billEndMonth" jdbcType="CHAR" />
    <result column="sum" property="sum" jdbcType="DECIMAL" />
    <result column="order_index" property="orderIndex" jdbcType="INTEGER" />
    <result column="bill_template_id" property="billTemplateId" jdbcType="BIGINT" />
    <result column="create_user_id" property="createUserId" jdbcType="BIGINT" />
    <result column="create_date" property="createDate" jdbcType="TIMESTAMP" />
    <result column="update_user_id" property="updateUserId" jdbcType="BIGINT" />
    <result column="update_date" property="updateDate" jdbcType="TIMESTAMP" />
    <result column="is_deleted" property="isDeleted" jdbcType="INTEGER" />
    <result column="has_changed" property="hasChanged" jdbcType="INTEGER" />
  </resultMap>
  <sql id="Base_Column_List" >
    <!--
        
    -->
    ord_nsb_rec_id, company_id,order_record_id, quotation_name, offer_id,prod_name, item_id, item_type, payment_start_month, 
    payment_satrt_day, payment_end_month, payment_end_day, bill_start_month, bill_end_month, 
    sum, order_index, bill_template_id, create_user_id, create_date, update_user_id, 
    update_date, is_deleted, has_changed
  </sql>
    <!-- 查询参数  -->
  	<sql id="queryParams">
		<where>
		hs_emp_ord_nsb_detail_rec.is_deleted=0 
		<if test="companyId != null">
			AND hs_emp_ord_nsb_detail_rec.company_id =#{companyId}
		</if>
		<if test="ordRecId != null">
			AND hs_emp_ord_nsb_detail_rec.order_record_id = #{ordRecId,jdbcType=BIGINT}
		</if>
		</where>
	</sql>
  <!-- 查询非社保公积金列表 -->
   <select id="findOrderNSB" resultMap="BaseResultMap" parameterType="java.lang.Long" >    
    select 
    <include refid="Base_Column_List" />
    from hs_emp_ord_nsb_detail_rec
    <include refid="queryParams" />
  </select>
  <select id="selectByPrimaryKey" resultMap="BaseResultMap" parameterType="java.lang.Long" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    select 
    <include refid="Base_Column_List" />
    from hs_emp_ord_nsb_detail_rec
    where ord_nsb_rec_id = #{ordNsbRecId,jdbcType=BIGINT}
  </select>
  <delete id="deleteByPrimaryKey" parameterType="java.lang.Long" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    delete from hs_emp_ord_nsb_detail_rec
    where ord_nsb_rec_id = #{ordNsbRecId,jdbcType=BIGINT}
  </delete>
  <insert id="insert" parameterType="com.jabava.pojo.hro.order.HsEmpOrdNsbDetailRec" >
    <!--
   
    -->
    insert into hs_emp_ord_nsb_detail_rec (ord_nsb_rec_id, company_id,order_record_id, quotation_name, 
      offer_id, prod_name, item_id, 
      item_type, payment_start_month, payment_satrt_day, 
      payment_end_month, payment_end_day, bill_start_month, 
      bill_end_month, sum, order_index, 
      bill_template_id, create_user_id, create_date, 
      update_user_id, update_date, is_deleted, 
      has_changed)
    values (#{ordNsbRecId,jdbcType=BIGINT},  #{companyId,jdbcType=BIGINT}, #{orderRecordId,jdbcType=BIGINT}, #{quotationName,jdbcType=VARCHAR}, 
      #{offerId,jdbcType=BIGINT}, #{prodName,jdbcType=VARCHAR}, #{itemId,jdbcType=BIGINT}, 
      #{itemType,jdbcType=VARCHAR}, #{paymentStartMonth,jdbcType=CHAR}, #{paymentSatrtDay,jdbcType=CHAR}, 
      #{paymentEndMonth,jdbcType=CHAR}, #{paymentEndDay,jdbcType=CHAR}, #{billStartMonth,jdbcType=CHAR}, 
      #{billEndMonth,jdbcType=CHAR}, #{sum,jdbcType=DECIMAL}, #{orderIndex,jdbcType=INTEGER}, 
      #{billTemplateId,jdbcType=BIGINT}, #{createUserId,jdbcType=BIGINT}, #{createDate,jdbcType=TIMESTAMP}, 
      #{updateUserId,jdbcType=BIGINT}, #{updateDate,jdbcType=TIMESTAMP}, #{isDeleted,jdbcType=INTEGER}, 
      #{hasChanged,jdbcType=INTEGER})
  </insert>
  <!-- 新增或者更新 如果ord_nsb_rec_id 没有 新增 ，反正更新 -->  
    <insert id="insertOrUpdateList" parameterType="list">
	  <![CDATA[
		INSERT INTO hs_emp_ord_nsb_detail_rec
   	    (ord_nsb_rec_id,company_id, order_record_id, quotation_name, 
     	 offer_id, prod_name, item_id, 
     	 item_type, payment_start_month, payment_satrt_day, 
      	 payment_end_month, payment_end_day, bill_start_month, 
      	 bill_end_month, sum, order_index, 
     	 bill_template_id, create_user_id, create_date, 
     	 update_user_id, update_date, is_deleted, 
     	 has_changed) 
   	    VALUES 
   	  ]]>
		<foreach collection="list" item="item"  index="index" separator=",">
	  (
	  #{item.ordNsbRecId,jdbcType=BIGINT},#{item.companyId,jdbcType=BIGINT}, #{item.orderRecordId,jdbcType=BIGINT}, #{item.quotationName,jdbcType=VARCHAR}, 
      #{item.offerId,jdbcType=BIGINT}, #{item.prodName,jdbcType=VARCHAR}, #{item.itemId,jdbcType=BIGINT}, 
      #{item.itemType,jdbcType=VARCHAR}, #{item.paymentStartMonth,jdbcType=CHAR}, #{item.paymentSatrtDay,jdbcType=CHAR}, 
      #{item.paymentEndMonth,jdbcType=CHAR}, #{item.paymentEndDay,jdbcType=CHAR}, #{item.billStartMonth,jdbcType=CHAR}, 
      #{item.billEndMonth,jdbcType=CHAR}, #{item.sum,jdbcType=DECIMAL}, #{item.orderIndex,jdbcType=INTEGER}, 
      #{item.billTemplateId,jdbcType=BIGINT}, #{item.createUserId,jdbcType=BIGINT}, #{item.createDate,jdbcType=TIMESTAMP}, 
      #{item.updateUserId,jdbcType=BIGINT}, #{item.updateDate,jdbcType=TIMESTAMP}, #{item.isDeleted,jdbcType=INTEGER}, 
      #{item.hasChanged,jdbcType=INTEGER}
      )
		</foreach>		
		ON DUPLICATE KEY UPDATE
		ord_nsb_rec_id=values(ord_nsb_rec_id),
		company_id= values(company_id),	
		order_record_id= values(order_record_id),		
		quotation_name=values(quotation_name),
		offer_id= values(offer_id),
		prod_name=values(prod_name),		
		item_id= values(item_id),
		item_type=values(item_type),		
		payment_start_month= values(payment_start_month),
		payment_satrt_day=values(payment_satrt_day),
		payment_end_month= values(payment_end_month),
		payment_end_day=values(payment_end_day),
		bill_start_month= values(bill_start_month),
		
		bill_end_month= values(bill_end_month),
		sum=values(sum),		
		order_index= values(order_index),
		bill_template_id=values(bill_template_id),
		create_user_id= values(create_user_id),
		create_date=values(create_date),
		is_deleted=values(is_deleted),
		has_changed=values(has_changed)
		
	</insert> 
  <insert id="insertSelective" parameterType="com.jabava.pojo.hro.order.HsEmpOrdNsbDetailRec" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    insert into hs_emp_ord_nsb_detail_rec
    <trim prefix="(" suffix=")" suffixOverrides="," >
		
       <if test="companyId != null and companyId!=''">
		   company_id ,
		</if>
      <if test="ordNsbRecId != null" >
        ord_nsb_rec_id,
      </if>
      <if test="orderRecordId != null" >
        order_record_id,
      </if>
      <if test="quotationName != null" >
        quotation_name,
      </if>
      <if test="offerId != null" >
        offer_id,
      </if>
      <if test="prodName != null" >
        prod_name,
      </if>
      <if test="itemId != null" >
        item_id,
      </if>
      <if test="itemType != null" >
        item_type,
      </if>
      <if test="paymentStartMonth != null" >
        payment_start_month,
      </if>
      <if test="paymentSatrtDay != null" >
        payment_satrt_day,
      </if>
      <if test="paymentEndMonth != null" >
        payment_end_month,
      </if>
      <if test="paymentEndDay != null" >
        payment_end_day,
      </if>
      <if test="billStartMonth != null" >
        bill_start_month,
      </if>
      <if test="billEndMonth != null" >
        bill_end_month,
      </if>
      <if test="sum != null" >
        sum,
      </if>
      <if test="orderIndex != null" >
        order_index,
      </if>
      <if test="billTemplateId != null" >
        bill_template_id,
      </if>
      <if test="createUserId != null" >
        create_user_id,
      </if>
      <if test="createDate != null" >
        create_date,
      </if>
      <if test="updateUserId != null" >
        update_user_id,
      </if>
      <if test="updateDate != null" >
        update_date,
      </if>
      <if test="isDeleted != null" >
        is_deleted,
      </if>
      <if test="hasChanged != null" >
        has_changed,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides="," >
     
      <if test="companyId != null and companyId!=''">
		   #{companyId,jdbcType=BIGINT},
	  </if>
      <if test="ordNsbRecId != null" >
        #{ordNsbRecId,jdbcType=BIGINT},
      </if>
      <if test="orderRecordId != null" >
        #{orderRecordId,jdbcType=BIGINT},
      </if>
      <if test="quotationName != null" >
        #{quotationName,jdbcType=VARCHAR},
      </if>
      <if test="offerId != null" >
        #{offerId,jdbcType=BIGINT},
      </if>
      <if test="prodName != null" >
        #{prodName,jdbcType=VARCHAR},
      </if>
      <if test="itemId != null" >
        #{itemId,jdbcType=BIGINT},
      </if>
      <if test="itemType != null" >
        #{itemType,jdbcType=VARCHAR},
      </if>
      <if test="paymentStartMonth != null" >
        #{paymentStartMonth,jdbcType=CHAR},
      </if>
      <if test="paymentSatrtDay != null" >
        #{paymentSatrtDay,jdbcType=CHAR},
      </if>
      <if test="paymentEndMonth != null" >
        #{paymentEndMonth,jdbcType=CHAR},
      </if>
      <if test="paymentEndDay != null" >
        #{paymentEndDay,jdbcType=CHAR},
      </if>
      <if test="billStartMonth != null" >
        #{billStartMonth,jdbcType=CHAR},
      </if>
      <if test="billEndMonth != null" >
        #{billEndMonth,jdbcType=CHAR},
      </if>
      <if test="sum != null" >
        #{sum,jdbcType=DECIMAL},
      </if>
      <if test="orderIndex != null" >
        #{orderIndex,jdbcType=INTEGER},
      </if>
      <if test="billTemplateId != null" >
        #{billTemplateId,jdbcType=BIGINT},
      </if>
      <if test="createUserId != null" >
        #{createUserId,jdbcType=BIGINT},
      </if>
      <if test="createDate != null" >
        #{createDate,jdbcType=TIMESTAMP},
      </if>
      <if test="updateUserId != null" >
        #{updateUserId,jdbcType=BIGINT},
      </if>
      <if test="updateDate != null" >
        #{updateDate,jdbcType=TIMESTAMP},
      </if>
      <if test="isDeleted != null" >
        #{isDeleted,jdbcType=INTEGER},
      </if>
      <if test="hasChanged != null" >
        #{hasChanged,jdbcType=INTEGER},
      </if>
    </trim>
  </insert>
  <update id="updateByPrimaryKeySelective" parameterType="com.jabava.pojo.hro.order.HsEmpOrdNsbDetailRec" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    update hs_emp_ord_nsb_detail_rec
    <set >		
		<if test="companyId != null and companyId!=''">
		    company_id =#{companyId,jdbcType=BIGINT},
		</if>		
      <if test="orderRecordId != null" >
        order_record_id = #{orderRecordId,jdbcType=BIGINT},
      </if>
      <if test="quotationName != null" >
        quotation_name = #{quotationName,jdbcType=VARCHAR},
      </if>
      <if test="offerId != null" >
        offer_id = #{offerId,jdbcType=BIGINT},
      </if>
      <if test="prodName != null" >
        prod_name = #{prodName,jdbcType=VARCHAR},
      </if>
      <if test="itemId != null" >
        item_id = #{itemId,jdbcType=BIGINT},
      </if>
      <if test="itemType != null" >
        item_type = #{itemType,jdbcType=VARCHAR},
      </if>
      <if test="paymentStartMonth != null" >
        payment_start_month = #{paymentStartMonth,jdbcType=CHAR},
      </if>
      <if test="paymentSatrtDay != null" >
        payment_satrt_day = #{paymentSatrtDay,jdbcType=CHAR},
      </if>
      <if test="paymentEndMonth != null" >
        payment_end_month = #{paymentEndMonth,jdbcType=CHAR},
      </if>
      <if test="paymentEndDay != null" >
        payment_end_day = #{paymentEndDay,jdbcType=CHAR},
      </if>
      <if test="billStartMonth != null" >
        bill_start_month = #{billStartMonth,jdbcType=CHAR},
      </if>
      <if test="billEndMonth != null" >
        bill_end_month = #{billEndMonth,jdbcType=CHAR},
      </if>
      <if test="sum != null" >
        sum = #{sum,jdbcType=DECIMAL},
      </if>
      <if test="orderIndex != null" >
        order_index = #{orderIndex,jdbcType=INTEGER},
      </if>
      <if test="billTemplateId != null" >
        bill_template_id = #{billTemplateId,jdbcType=BIGINT},
      </if>
      <if test="createUserId != null" >
        create_user_id = #{createUserId,jdbcType=BIGINT},
      </if>
      <if test="createDate != null" >
        create_date = #{createDate,jdbcType=TIMESTAMP},
      </if>
      <if test="updateUserId != null" >
        update_user_id = #{updateUserId,jdbcType=BIGINT},
      </if>
      <if test="updateDate != null" >
        update_date = #{updateDate,jdbcType=TIMESTAMP},
      </if>
      <if test="isDeleted != null" >
        is_deleted = #{isDeleted,jdbcType=INTEGER},
      </if>
      <if test="hasChanged != null" >
        has_changed = #{hasChanged,jdbcType=INTEGER},
      </if>
    </set>
    where ord_nsb_rec_id = #{ordNsbRecId,jdbcType=BIGINT}
  </update>
  <update id="updateByPrimaryKey" parameterType="com.jabava.pojo.hro.order.HsEmpOrdNsbDetailRec" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    update hs_emp_ord_nsb_detail_rec
    set     
      company_id =#{companyId,jdbcType=BIGINT},
      order_record_id = #{orderRecordId,jdbcType=BIGINT},    
      quotation_name = #{quotationName,jdbcType=VARCHAR},
      offer_id = #{offerId,jdbcType=BIGINT},
      prod_name = #{prodName,jdbcType=VARCHAR},
      item_id = #{itemId,jdbcType=BIGINT},
      item_type = #{itemType,jdbcType=VARCHAR},
      payment_start_month = #{paymentStartMonth,jdbcType=CHAR},
      payment_satrt_day = #{paymentSatrtDay,jdbcType=CHAR},
      payment_end_month = #{paymentEndMonth,jdbcType=CHAR},
      payment_end_day = #{paymentEndDay,jdbcType=CHAR},
      bill_start_month = #{billStartMonth,jdbcType=CHAR},
      bill_end_month = #{billEndMonth,jdbcType=CHAR},
      sum = #{sum,jdbcType=DECIMAL},
      order_index = #{orderIndex,jdbcType=INTEGER},
      bill_template_id = #{billTemplateId,jdbcType=BIGINT},
      create_user_id = #{createUserId,jdbcType=BIGINT},
      create_date = #{createDate,jdbcType=TIMESTAMP},
      update_user_id = #{updateUserId,jdbcType=BIGINT},
      update_date = #{updateDate,jdbcType=TIMESTAMP},
      is_deleted = #{isDeleted,jdbcType=INTEGER},
      has_changed = #{hasChanged,jdbcType=INTEGER}
    where ord_nsb_rec_id = #{ordNsbRecId,jdbcType=BIGINT}
  </update>
</mapper>