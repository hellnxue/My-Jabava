<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.jabava.dao.hro.order.HsEmpOrdMapper" >
  <resultMap id="BaseResultMap" type="com.jabava.pojo.hro.order.HsEmpOrd" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    <id column="order_id" property="orderId" jdbcType="BIGINT" />
    <result column="company_id" property="companyId" jdbcType="BIGINT" />
    <result column="client_id" property="clientId" jdbcType="BIGINT" />
    <result column="employee_id" property="employeeId" jdbcType="BIGINT" />
    <result column="order_status" property="orderStatus" jdbcType="BIGINT" />
    <result column="order_create_remark" property="orderCreateRemark" jdbcType="VARCHAR" />
    <result column="order_change_remark" property="orderChangeRemark" jdbcType="VARCHAR" />
    <result column="order_cancel_remark" property="orderCancelRemark" jdbcType="VARCHAR" />
    <result column="create_user" property="createUser" jdbcType="VARCHAR" />
    <result column="create_user_id" property="createUserId" jdbcType="BIGINT" />
    <result column="create_date" property="createDate" jdbcType="TIMESTAMP" />
    <result column="update_user" property="updateUser" jdbcType="VARCHAR" />
    <result column="update_user_id" property="updateUserId" jdbcType="BIGINT" />
    <result column="update_date" property="updateDate" jdbcType="TIMESTAMP" />
    <result column="is_deleted" property="isDeleted" jdbcType="INTEGER" />
    <result column="employee_rec_id" property="employeeRecId" jdbcType="BIGINT" />
    <result column="reducestaff" property="reducestaff" jdbcType="VARCHAR" />
    <result column="reducestaff_update_by" property="reducestaffUpdateBy" jdbcType="BIGINT" />
    <result column="reducestaff_update_dt" property="reducestaffUpdateDt" jdbcType="TIMESTAMP" />
    <result column="customer_service" property="customerService" jdbcType="VARCHAR" />
    <result column="sb_status" property="sbStatus" jdbcType="INTEGER" />
    <result column="gjj_status" property="gjjStatus" jdbcType="INTEGER" />
    <result column="import_date" property="importDate" jdbcType="TIMESTAMP" />
     <result column="protocol_code" property="protocolCode" jdbcType="VARCHAR" />
  </resultMap>
  <sql id="Base_Column_List" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    order_id, company_id,client_id, employee_id, order_status, order_create_remark, order_change_remark, 
    order_cancel_remark, create_user, create_user_id, create_date, update_user, update_user_id, 
    update_date, is_deleted, employee_rec_id, reducestaff, reducestaff_update_by, reducestaff_update_dt,
    customer_service, sb_status, gjj_status, 
    import_date,protocol_code
  </sql>
  <select id="selectByPrimaryKey" resultMap="BaseResultMap" parameterType="java.lang.Long" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    select 
    <include refid="Base_Column_List" />
    from hs_emp_ord
    where order_id = #{orderId,jdbcType=BIGINT}
  </select>
  
  <!-- 根据协议号获取订单总数 -->
  <select id="getOrderTotalByProcotolCode" resultType="java.lang.Long" parameterType="java.lang.String">
  	select 
   		count(order_id)
    from hs_emp_ord
    where protocol_code = #{protocolCode,jdbcType=VARCHAR}
  </select>
  <!-- 查询服务人数 -->
  <select id="findServiceCountPage" parameterType="java.util.HashMap"  resultType="com.jabava.pojo.hro.order.HsEmpOrdVO">
  	SELECT
	mon.months AS yearmonth,
	(
		SELECT
			count(DISTINCT o.order_id)
		FROM
			hs_emp_ord o,
			hs_emp_ord_nsb_detail n
		WHERE
			n.order_id = o.order_id
		AND o.is_deleted = 0
		 <if test="companyId != null">
			AND  o.company_id = #{companyId}
		</if>		
		AND n.is_deleted = 0		
		AND n.bill_month =  mon.months
	) serviceCount,
	(
		SELECT
			count(o.order_id)
		FROM
			hs_emp_ord o
		WHERE
			
		 o.is_deleted = 0
		 <if test="companyId != null">
			AND  o.company_id = #{companyId}
		</if>
		AND (
			SELECT
				min(n.bill_month)
			FROM
				hs_emp_ord_nsb_detail n
			WHERE
				n.order_id = o.order_id
			AND n.is_deleted = 0			
		) = mon.months
	) addCount,
	(
		SELECT
			count(o.order_id)
		FROM
			hs_emp_ord o
		WHERE			
		 o.is_deleted = 0
		 <if test="companyId != null">
			AND  o.company_id = #{companyId}
		</if>
		AND (
			SELECT
				CASE
			WHEN o.order_status <![CDATA[<>]]> 10 THEN
				'999999'
			ELSE
				max(n.bill_month)
			END
			FROM
				hs_emp_ord_nsb_detail n
			WHERE
				n.order_id = o.order_id
			AND n.is_deleted = 0		
			) = mon.months
		) delCount
	FROM
		(
		SELECT
			months.months
		FROM
			months	
		) mon
	WHERE
	   <if test="orderDateStart != null">
			mon.months  <![CDATA[>=]]> #{orderDateStart}
		</if>
		<if test="orderDateEnd != null">
			AND mon.months   <![CDATA[<=]]> #{orderDateEnd}
		</if>		
  
  </select>
  <select id="findNewOrderListPage"  parameterType="java.util.HashMap"  resultType="com.jabava.pojo.hro.order.HsEmpOrdVO">
      
SELECT
	date_format(
		hs_emp_ord.create_date,
		'%Y-%c'
	) AS yearmonth,
	(
		SELECT
			count(order_id)
		FROM
			hs_emp_ord e
		WHERE
			e.create_date <![CDATA[>=]]> concat(
				date_format(
					hs_emp_ord.create_date,
					'%Y-%c'
				),
				'-01 00:00:00'
			)
		AND e.create_date <![CDATA[<=]]> concat(
			date_format(
				hs_emp_ord.create_date,
				'%Y-%c'
			),
			'-31 23:59:59'
		)
	) AS serviceCount ,(
		SELECT
			count(c.order_id)
		FROM
			hs_emp_ord c
		WHERE
			c.create_date <![CDATA[>=]]> concat(
				date_format(
					hs_emp_ord.create_date,
					'%Y-%c'
				),
				'-01 00:00:00'
			)
		AND c.create_date <![CDATA[<=]]> concat(
			date_format(
				hs_emp_ord.create_date,
				'%Y-%c'
			),
			'-31 23:59:59'	
		)
	AND c.order_status = 4
	) AS addCount,
(
		SELECT
			count(d.order_id)
		FROM
			hs_emp_ord d
		WHERE
			d.create_date <![CDATA[>=]]> concat(
				date_format(
					hs_emp_ord.create_date,
					'%Y-%c'
				),
				'-01 00:00:00'
			)
		AND d.create_date <![CDATA[<=]]> concat(
			date_format(
				hs_emp_ord.create_date,
				'%Y-%c'
			),
			'-31 23:59:59'	
		)
	AND (d.order_status = 10 or d.order_status = 13 )
	) AS delCount,
	(
		SELECT
			count(d.order_id)
		FROM
			hs_emp_ord d
		WHERE
			d.create_date <![CDATA[>=]]> concat(
				date_format(
					hs_emp_ord.create_date,
					'%Y-%c'
				),
				'-01 00:00:00'
			)
		AND d.create_date <![CDATA[<=]]> concat(
			date_format(
				hs_emp_ord.create_date,
				'%Y-%c'
			),
			'-31 23:59:59'	
		)
	AND (d.order_status = 7 )
	) AS changeCount

     FROM
	  hs_emp_ord
	  where hs_emp_ord.is_deleted=0
	  	<!-- 创建订单时间开始结束 -->
		<if test="orderDateStart != null">
			AND hs_emp_ord.create_date  <![CDATA[>=]]> #{orderDateStart}
		</if>
		<if test="orderDateEnd != null">
			AND hs_emp_ord.create_date  <![CDATA[<=]]> #{orderDateEnd}
		</if>
	  <if test="companyId != null">
			AND  hs_emp_ord.company_id =#{companyId}
		</if>

    GROUP BY
   	date_format(
	 	hs_emp_ord.create_date,
		'%Y-%c'
	 )
  </select>
  <!-- 分页查询订单列表返回的数据  -->
 <resultMap id="orderListResult" type="com.jabava.pojo.hro.order.HsEmpOrdVO"  extends="BaseResultMap">
		<association property="bdEmpBaseInfo" column="base_info_id" javaType="com.jabava.pojo.hro.BdEmpBaseInfo" resultMap="BaseInfoResultMap"/>
 		<association property="bdEmpRecInfo" column="rec_info_id" javaType="com.jabava.pojo.manage.EhrPerson" resultMap="RecInfoResultMap"/>
 		<association property="hsEmpOrdRec" column="ord_rec_id" javaType="com.jabava.pojo.hro.order.HsEmpOrdRec" resultMap="OrdRecMap"/>
  </resultMap>
  <resultMap id="BaseInfoResultMap" type="com.jabava.pojo.hro.BdEmpBaseInfo" >
   
    <id column="base_info_id" property="baseInfoId" jdbcType="BIGINT" />
    <result column="employee_name" property="employeeName" jdbcType="VARCHAR" />
    <result column="card_type" property="cardType" jdbcType="VARCHAR" />
    <result column="card_id" property="cardId" jdbcType="VARCHAR" />
    <result column="birthday" property="birthday" jdbcType="DATE" />
    <result column="gender" property="gender" jdbcType="VARCHAR" />
    <result column="mobile" property="mobile" jdbcType="VARCHAR" />
    <result column="phone" property="phone" jdbcType="VARCHAR" />
    <result column="registered_address" property="registeredAddress" jdbcType="VARCHAR" />
    <result column="residence_zip" property="residenceZip" jdbcType="VARCHAR" />
    <result column="residence_address" property="residenceAddress" jdbcType="VARCHAR" />
    <result column="work_city" property="workCity" jdbcType="VARCHAR" />
    <result column="work_address" property="workAddress" jdbcType="INTEGER" />
    <result column="country_id" property="countryId" jdbcType="BIGINT" />
    <result column="nationality" property="nationality" jdbcType="CHAR" />
    <result column="email" property="email" jdbcType="VARCHAR" />
    <result column="marriage_status" property="marriageStatus" jdbcType="CHAR" />
    <result column="education_level" property="educationLevel" jdbcType="CHAR" />
    <result column="resident_type" property="residentType" jdbcType="CHAR" />
    <result column="is_deleted" property="isDeleted" jdbcType="INTEGER" />
    <result column="create_by" property="createBy" jdbcType="BIGINT" />
    <result column="create_dt" property="createDt" jdbcType="TIMESTAMP" />
    <result column="update_by" property="updateBy" jdbcType="BIGINT" />
    <result column="update_dt" property="updateDt" jdbcType="TIMESTAMP" />
    <result column="mimic_by" property="mimicBy" jdbcType="BIGINT" />
    <result column="proxy_by" property="proxyBy" jdbcType="BIGINT" />
    <result column="original_employee_id" property="originalEmployeeId" jdbcType="BIGINT" />
    <result column="family_insurance_address" property="familyInsuranceAddress" jdbcType="VARCHAR" />
    <result column="address_begin_date" property="addressBeginDate" jdbcType="TIMESTAMP" />
  </resultMap>
  <resultMap id="RecInfoResultMap" type="com.jabava.pojo.hro.BdEmpRecInfo" >
   
    <id column="rec_info_id" property="recInfoId" jdbcType="BIGINT" />
    <result column="employee_system_id" property="employeeSystemId" jdbcType="BIGINT" />
    <result column="employee_client_id" property="employeeClientId" jdbcType="VARCHAR" />
    <result column="client_id" property="clientId" jdbcType="BIGINT" />
    <result column="hire_type" property="hireType" jdbcType="VARCHAR" />
    <result column="hire_date" property="hireDate" jdbcType="TIMESTAMP" />
    <result column="hire_remark" property="hireRemark" jdbcType="VARCHAR" />
    <result column="dimission_type" property="dimissionType" jdbcType="VARCHAR" />
    <result column="dimission_date" property="dimissionDate" jdbcType="TIMESTAMP" />
    <result column="dimission_remark" property="dimissionRemark" jdbcType="VARCHAR" />
    <result column="hire_status" property="hireStatus" jdbcType="VARCHAR" />
    <result column="mobile" property="mobile" jdbcType="VARCHAR" />
    <result column="phone" property="phone" jdbcType="VARCHAR" />
    <result column="residence_zip" property="residenceZip" jdbcType="VARCHAR" />
    <result column="residence_address" property="residenceAddress" jdbcType="VARCHAR" />
    <result column="email" property="email" jdbcType="VARCHAR" />
    <result column="marriage_status" property="marriageStatus" jdbcType="CHAR" />
    <result column="education_level" property="educationLevel" jdbcType="CHAR" />
    <result column="resident_type" property="residentType" jdbcType="CHAR" />
    <result column="create_by" property="createBy" jdbcType="BIGINT" />
    <result column="create_dt" property="createDt" jdbcType="TIMESTAMP" />
    <result column="update_by" property="updateBy" jdbcType="BIGINT" />
    <result column="update_dt" property="updateDt" jdbcType="TIMESTAMP" />
    <result column="mimic_by" property="mimicBy" jdbcType="BIGINT" />
    <result column="proxy_by" property="proxyBy" jdbcType="BIGINT" />
    <result column="is_deleted" property="isDeleted" jdbcType="INTEGER" />
    <result column="work_address" property="workAddress" jdbcType="INTEGER" />
    <result column="create_org_id" property="createOrgId" jdbcType="BIGINT" />
  </resultMap>
   <resultMap id="PersonResultMap" type="com.jabava.pojo.manage.EhrPerson" >    
    <id column="person_id" property="personId" jdbcType="BIGINT" />
    <result column="company_id" property="companyId" jdbcType="BIGINT" />
    <result column="organization_id" property="organizationId" jdbcType="BIGINT" />
    <result column="post_id" property="postId" jdbcType="BIGINT" />
    <result column="cost_id" property="costId" jdbcType="BIGINT" />
    <result column="job_number" property="jobNumber" jdbcType="VARCHAR" />
    <result column="employee_name" property="employeeName" jdbcType="VARCHAR" />
    <result column="employee_photo" property="employeePhoto" jdbcType="VARCHAR" />
    <result column="employment_type" property="employmentType" jdbcType="VARCHAR" />
    <result column="rank_id" property="rankId" jdbcType="BIGINT" />
    <result column="key_person" property="keyPerson" jdbcType="TINYINT" />
    <result column="sex" property="sex" jdbcType="TINYINT" />
    <result column="report_object" property="reportObject" jdbcType="VARCHAR" />
    <result column="entry_date" property="entryDate" jdbcType="DATE" />
    <result column="positive_date" property="positiveDate" jdbcType="DATE" />
    <result column="in_company_time" property="inCompanyTime" jdbcType="TINYINT" />
    <result column="firstjob_date" property="firstjobDate" jdbcType="DATE" />
    <result column="birth_date" property="birthDate" jdbcType="DATE" />
    <result column="age" property="age" jdbcType="INTEGER" />
    <result column="cert_type" property="certType" jdbcType="TINYINT" />
    <result column="cert_id" property="certId" jdbcType="VARCHAR" /> 
    <result column="bank_name" property="bankName" jdbcType="VARCHAR" />
    <result column="salary_card" property="salaryCard" jdbcType="VARCHAR" />
    <result column="marital" property="marital" jdbcType="TINYINT" />
    <result column="degree" property="degree" jdbcType="VARCHAR" />
    <result column="education" property="education" jdbcType="VARCHAR" />
    <result column="study_abroad" property="studyAbroad" jdbcType="TINYINT" />
    <result column="work_location" property="workLocation" jdbcType="VARCHAR" />
    <result column="payroll_location" property="payrollLocation" jdbcType="VARCHAR" />
    <result column="register_location" property="registerLocation" jdbcType="VARCHAR" />
    <result column="social_security_location" property="socialSecurityLocation" jdbcType="VARCHAR" />
    <result column="register_type" property="registerType" jdbcType="TINYINT" />
    <result column="birth_place" property="birthPlace" jdbcType="VARCHAR" />
    <result column="nationality" property="nationality" jdbcType="VARCHAR" />
    <result column="mobile" property="mobile" jdbcType="VARCHAR" />
    <result column="phone" property="phone" jdbcType="VARCHAR" />
    <result column="Email" property="email" jdbcType="VARCHAR" />
    <result column="contact_address" property="contactAddress" jdbcType="VARCHAR" />
    <result column="family_address" property="familyAddress" jdbcType="VARCHAR" />
    <result column="post_code" property="postCode" jdbcType="VARCHAR" />
    <result column="is_payroll_flag" property="isPayrollFlag" jdbcType="TINYINT" />
    <result column="file_location" property="fileLocation" jdbcType="VARCHAR" />
    <result column="is_foreign" property="isForeign" jdbcType="TINYINT" />
    <result column="left_date" property="leftDate" jdbcType="DATE" />
    <result column="left_cause" property="leftCause" jdbcType="VARCHAR" />
    <result column="expire_date" property="expireDate" jdbcType="DATE" />
    <result column="memo" property="memo" jdbcType="VARCHAR" />    
    <result column="last_modify_user_id" property="lastModifyUserId" jdbcType="BIGINT" />
    <result column="last_modify_user_name" property="lastModifyUserName" jdbcType="VARCHAR" />
    <result column="last_modify_date" property="lastModifyDate" jdbcType="TIMESTAMP" />
    <result column="status" property="status" jdbcType="TINYINT" />
    <result column="employee_group" property="employeeGroup" jdbcType="VARCHAR" />
    <result column="team" property="team" jdbcType="BIGINT" />
    <result column="is_workplace" property="isWorkplace" jdbcType="TINYINT" />
    <result column="resume" property="resume" jdbcType="VARCHAR" />
    <result column="subbank" property="subbank" jdbcType="VARCHAR" />
    <result column="recruit" property="recruit" jdbcType="VARCHAR" />
    <result column="post" property="post" jdbcType="VARCHAR" />
    <result column="org" property="org" jdbcType="VARCHAR" />
    <result column="positiveDate1" property="positiveDate1" jdbcType="VARCHAR" />
    <result column="birthDate1" property="birthDate1" jdbcType="VARCHAR" />
    <result column="origin_place" property="originPlace" jdbcType="VARCHAR" />
    <result column="cert_type_url" property="certTypeUrl" jdbcType="VARCHAR" />
    <result column="resume_url" property="resumeUrl" jdbcType="VARCHAR" />
    <result column="education_url" property="educationUrl" jdbcType="VARCHAR" />
    <result column="residence_url" property="residenceUrl" jdbcType="VARCHAR" />
    <result column="jobpost_url" property="jobpostUrl" jdbcType="VARCHAR" />
    <result column="health_url" property="healthUrl" jdbcType="VARCHAR" />
    <result column="salary_url" property="salaryUrl" jdbcType="VARCHAR" />
    <association property="workAddress" column="base_data_id" javaType="com.jabava.pojo.manage.EhrBaseData" resultMap="BaseDataMap"/>
    
  </resultMap>
  <resultMap id="OrdRecMap" type="com.jabava.pojo.hro.order.HsEmpOrdRec" >
    <id column="ord_rec_id" property="ordRecId" jdbcType="BIGINT" />
    <result column="order_id" property="orderId" jdbcType="BIGINT" />    
    <result column="is_last" property="isLast" jdbcType="INTEGER" />
    <result column="cha_msg_src" property="chaMsgSrc" jdbcType="VARCHAR" />
     <result column="contract_type" property="contractType" jdbcType="INTEGER" />
    <result column="social_insurance_individual_base" property="socialInsuranceIndividualBase" jdbcType="DECIMAL" />
    <result column="reserve_individual_base" property="reserveIndividualBase" jdbcType="DECIMAL" />
  </resultMap>
  <resultMap id="BaseDataMap" type="com.jabava.pojo.manage.EhrBaseData">
	
		<id column="base_data_id" property="baseDataId" jdbcType="BIGINT" />
		<result column="base_data_type" property="baseDataType"
			jdbcType="INTEGER" />
		<result column="company_id" property="companyId" jdbcType="BIGINT" />
		<result column="base_data_code" property="baseDataCode"
			jdbcType="VARCHAR" />
		<result column="base_data_name" property="baseDataName"
			jdbcType="VARCHAR" />
		<result column="memo" property="memo" jdbcType="VARCHAR" />
		<result column="is_valid" property="isValid" jdbcType="TINYINT" />
		<result column="valid" property="valid" jdbcType="VARCHAR" />
		<result column="create_user_id" property="createUserId"
			jdbcType="BIGINT" />
		<result column="create_user_name" property="createUserName"
			jdbcType="VARCHAR" />
		<result column="create_date" property="createDate" jdbcType="TIMESTAMP" />
		<result column="last_modify_user_id" property="lastModifyUserId"
			jdbcType="BIGINT" />
		<result column="last_modify_user_name" property="lastModifyUserName"
			jdbcType="VARCHAR" />
		<result column="last_modify_date" property="lastModifyDate"
			jdbcType="TIMESTAMP" />
		<result column="last_modify_date1" property="lastModifyDate1"
			jdbcType="VARCHAR" />
		<result column="base_data_type_name" property="baseDataTypeName" jdbcType="VARCHAR" />
	</resultMap>
  <!-- 查询参数  -->
  	<sql id="queryParams">
		<where>
		hs_emp_ord.is_deleted=0 and p.is_deleted=0 and ord_rec.is_deleted=0  and ord_rec.is_last=1  
		and rec.is_deleted=0
		<!-- 类型 根据类型查询 -->			
		<if test="type != null and type =='add'">
		AND  hs_emp_ord.order_id in(		
		SELECT
			o.order_id
		FROM
			hs_emp_ord o
		WHERE
			
		 o.is_deleted = 0
		 <if test="companyId != null">
			AND  o.company_id = #{companyId}
		</if>
		AND (
			SELECT
				min(n.bill_month)
			FROM
				hs_emp_ord_nsb_detail n
			WHERE
				n.order_id = o.order_id
			AND n.is_deleted = 0			
		) = #{billMonth}		
		)		
		</if>
		<if test="type != null and type =='all'">
		AND  hs_emp_ord.order_id in(
				SELECT
			o.order_id
		FROM
			hs_emp_ord o
		WHERE
			
		 o.is_deleted = 0
		 <if test="companyId != null">
			AND  o.company_id = #{companyId}
		</if>
		AND (
			SELECT
				min(n.bill_month)
			FROM
				hs_emp_ord_nsb_detail n
			WHERE
				n.order_id = o.order_id
			AND n.is_deleted = 0		
		AND n.bill_month = #{billMonth}		
		)
		)
		
		</if>
		<if test="type != null and type =='del'">
		AND  hs_emp_ord.order_id in(
			SELECT
			o.order_id
		FROM
			hs_emp_ord o
		WHERE
		 o.is_deleted = 0
		 <if test="companyId != null">
			AND  o.company_id = #{companyId}
		</if>
		
		AND (
			SELECT
				CASE
			WHEN o.order_status <![CDATA[<>]]> 10 THEN
				'999999'
			ELSE
				max(n.bill_month)
			END
			FROM
				hs_emp_ord_nsb_detail n
			WHERE
				n.order_id = o.order_id
			AND n.is_deleted = 0		
			) =  #{billMonth}	
		)
		
		</if>		
		<!-- search 框的搜索 -->
		<if test="search != null and search!=''">
			AND (
				p.employee_name LIKE CONCAT('%',#{search },'%' )
				OR p.card_id LIKE CONCAT('%',#{search },'%' )
			)
		</if>
		<if test="orderStatusList != null and orderStatusList !=''">
		AND hs_emp_ord.order_status in
		 <foreach item="item" index="index" collection="orderStatusList" open="(" separator="," close=")">
               #{item}
         </foreach>
         </if>
		<if test="companyId != null">
			AND hs_emp_ord.company_id =#{companyId}
		</if>
		<if test="employeeName != null and employeeName!=''">
			AND p.employee_name LIKE  CONCAT('%',#{employeeName },'%' )
		</if>
		<if test="gender != null">
			AND p.gender = #{gender}
		</if>
		<if test="cardType != null">
			AND p.card_type = #{cardType}
		</if>
		<if test="cardId != null and cardId!=''">
			AND p.card_id = #{cardId}
		</if>
		<if test="hireStatus != null and hireStatus !=''">
			AND rec.hire_status = #{hireStatus}
		</if>
		<if test="orderStatus != null">
			AND hs_emp_ord.order_status = #{orderStatus}
		</if>
		<!-- 社保状态 -->
		<if test="sbStatus != null and sbStatus !=''">
			AND hs_emp_ord.sb_status = #{sbStatus}
		</if>
		<!-- 公积金状态 -->
		<if test="gjjStatus != null and gjjStatus !=''">
			AND hs_emp_ord.gjj_status = #{gjjStatus}
		</if>
		<!-- 查询社保或者公积金状态 -->
		<if test="sBGjjStatus != null and sBGjjStatus !=''">			
			AND (
				hs_emp_ord.sb_status = #{sBGjjStatus}
				OR hs_emp_ord.gjj_status = #{sBGjjStatus}
			)
		</if>
		<if test="workCity != null and workCity !=''">
			AND p.work_city LIKE  CONCAT('%',#{workCity },'%' ) 
		</if>		
		<!-- 入职日期开始结束 -->
		<if test="entryDateStart != null">
			AND rec.hire_date  <![CDATA[>=]]> #{entryDateStart}
		</if>
		<if test="entryDateEnd != null">
			AND rec.hire_date  <![CDATA[<=]]> #{entryDateEnd}
		</if>
		<!-- 离职日期开始结束 -->
		<if test="leftDateStart != null">
			AND rec.dimission_date  <![CDATA[>=]]> #{leftDateStart}
		</if>
		<if test="leftDateEnd != null">
			AND rec.dimission_date  <![CDATA[<=]]> #{leftDateEnd}
		</if>
		<!-- 创建订单时间开始结束 -->
		<if test="createOrderDateStart != null">
			AND hs_emp_ord.create_date  <![CDATA[>=]]> #{createOrderDateStart}
		</if>
		<if test="createOrderDateEnd != null">
			AND hs_emp_ord.create_date  <![CDATA[<=]]> #{createOrderDateEnd}
		</if>
		<!-- 修改订单时间开始结束 -->
		<if test="updateOrderDateStart != null">
			AND hs_emp_ord.update_date  <![CDATA[>=]]> #{updateOrderDateStart}
		</if>
		<if test="updateOrderDateEnd != null">
			AND hs_emp_ord.update_date  <![CDATA[<=]]> #{updateOrderDateEnd}
		</if>
		<!-- 订单时间开始结束 -->
		<if test="orderDateStart != null and orderDateEnd != null ">
			AND( 
			(
			   hs_emp_ord.update_date  <![CDATA[>=]]> #{orderDateStart}
			   AND hs_emp_ord.update_date  <![CDATA[<=]]> #{orderDateEnd}
			)
			OR 
			(
			   hs_emp_ord.create_date  <![CDATA[>=]]> #{orderDateStart}
			  AND hs_emp_ord.create_date  <![CDATA[<=]]> #{orderDateEnd}
			)
			)
		</if>
		<if test="updateOrderDateEnd != null">
			AND hs_emp_ord.update_date  <![CDATA[<=]]> #{updateOrderDateEnd}
		</if>
		<!-- 报减员 -->
		<if test="reducestaff != null and reducestaff!=''">
			AND hs_emp_ord.reducestaff  LIKE  CONCAT('%',#{reducestaff },'%' )
		</if>
		<!-- 报减时间 开始结束 -->
		<if test="reducestaffDateStart != null">
			AND hs_emp_ord.reducestaff_update_dt  <![CDATA[>=]]> #{reducestaffDateStart}
		</if>
		<if test="reducestaffDateEnd != null">
			AND hs_emp_ord.reducestaff_update_dt  <![CDATA[<=]]> #{reducestaffDateEnd}
		</if>
		</where>
	</sql>
	<!-- 新版的订单列表查询  -->
	  <select id="newFindOrderListPage" parameterType="java.util.HashMap"  resultMap="orderListResult">
		  select 
			p.base_info_id AS base_info_id,
			p.employee_name AS employee_name,
			p.card_type AS card_type,
			p.card_id AS card_id,
			p.birthday  AS birthday,
			p.gender AS gender,
			p.mobile AS mobile,
			p.phone AS phone,
			p.registered_address  AS registered_address,
			p.residence_zip  AS residence_zip,
			p.residence_address  AS residence_address,
			p.work_city  AS work_city,
			rec.work_address AS work_address,
			p.country_id AS country_id,
			p.nationality AS nationality,
			p.email AS email,
			p.marriage_status AS  marriage_status,
			p.education_level AS education_level,
			p.resident_type  AS resident_type,			
			p.original_employee_id AS  original_employee_id,
			p.family_insurance_address AS  family_insurance_address,
			p.address_begin_date AS address_begin_date,
			rec.rec_info_id AS rec_info_id,
			rec.employee_system_id AS employee_system_id,
			rec.employee_client_id AS employee_client_id,
			rec.hire_type AS hire_type,
			rec.hire_date AS hire_date,
			rec.hire_remark AS hire_remark,
			rec.dimission_type  AS dimission_type,
			rec.dimission_date  AS dimission_date,
			rec.dimission_remark   AS dimission_remark,
			rec.hire_status  AS hire_status,			
			hs_emp_ord.*, 
			ord_rec.ord_rec_id AS ord_rec_id,
			ord_rec.is_last AS is_last,
			ord_rec.cha_msg_src AS cha_msg_src,
			ord_rec.contract_type AS contract_type,
			ord_rec.social_insurance_individual_base  AS social_insurance_individual_base,
			ord_rec.reserve_individual_base AS reserve_individual_base
		FROM 
	hs_emp_ord
	LEFT JOIN hs_emp_ord_rec ord_rec ON hs_emp_ord.order_id = ord_rec.order_id
	LEFT JOIN bd_emp_base_info p
	 ON hs_emp_ord.employee_id = p.base_info_id
	LEFT JOIN bd_emp_rec_info rec on hs_emp_ord.employee_rec_id = rec.rec_info_id
    <include refid="queryParams" />
     <if test="orderBy != null and orderBy!=''" >
       ORDER BY  ${orderBy}
      </if> 
	</select>
  <!--  分页查询订单列表 -->
  <select id="findOrderListPage" parameterType="java.util.HashMap"  resultMap="orderListResult">
		  select 
			p.base_info_id AS base_info_id,
			p.employee_name AS employee_name,
			p.card_type AS card_type,
			p.card_id AS card_id,
			p.birthday  AS birthday,
			p.gender AS gender,
			p.mobile AS mobile,
			p.phone AS phone,
			p.registered_address  AS registered_address,
			p.residence_zip  AS residence_zip,
			p.residence_address  AS residence_address,
			p.work_city  AS work_city,
			rec.work_address AS work_address,
			p.country_id AS country_id,
			p.nationality AS nationality,
			p.email AS email,
			p.marriage_status AS  marriage_status,
			p.education_level AS education_level,
			p.resident_type  AS resident_type,			
			p.original_employee_id AS  original_employee_id,
			p.family_insurance_address AS  family_insurance_address,
			p.address_begin_date AS address_begin_date,
			rec.rec_info_id AS rec_info_id,
			rec.employee_system_id AS employee_system_id,
			rec.employee_client_id AS employee_client_id,
			rec.hire_type AS hire_type,
			rec.hire_date AS hire_date,
			rec.hire_remark AS hire_remark,
			rec.dimission_type  AS dimission_type,
			rec.dimission_date  AS dimission_date,
			rec.dimission_remark   AS dimission_remark,
			rec.hire_status  AS hire_status,			
			hs_emp_ord.*, 
			ord_rec.ord_rec_id AS ord_rec_id,
			ord_rec.is_last AS is_last,
			ord_rec.cha_msg_src AS cha_msg_src,
			ord_rec.contract_type AS contract_type,
			ord_rec.social_insurance_individual_base  AS social_insurance_individual_base,
			ord_rec.reserve_individual_base AS reserve_individual_base
		FROM 
	hs_emp_ord
	LEFT JOIN hs_emp_ord_rec ord_rec ON hs_emp_ord.order_id = ord_rec.order_id
	LEFT JOIN bd_emp_base_info p
	 ON hs_emp_ord.employee_id = p.base_info_id
	LEFT JOIN bd_emp_rec_info rec on hs_emp_ord.employee_rec_id = rec.rec_info_id
    <include refid="queryParams" />
     <if test="orderBy != null and orderBy!=''" >
       ORDER BY  ${orderBy}
      </if> 
	</select>
	<!-- 订单详情  -->
	<select id="findOrderDetail" parameterType="com.jabava.pojo.hro.order.HsEmpOrd"  resultMap="orderListResult">
		select
			p.base_info_id AS base_info_id,
			p.employee_name AS employee_name,
			p.card_type AS card_type,
			p.card_id AS card_id,
			p.birthday  AS birthday,
			p.gender AS gender,
			p.mobile AS mobile,
			p.phone AS phone,
			p.registered_address  AS registered_address,
			p.residence_zip  AS residence_zip,
			p.residence_address  AS residence_address,
			p.work_city  AS work_city,
			p.work_address AS work_address,
			p.country_id AS country_id,
			p.nationality AS nationality,
			p.email AS email,
			p.marriage_status AS  marriage_status,
			p.education_level AS education_level,
			p.resident_type  AS resident_type,			
			p.original_employee_id AS  original_employee_id,
			p.family_insurance_address AS  family_insurance_address,
			p.address_begin_date AS address_begin_date,
			rec.rec_info_id AS rec_info_id,
			rec.employee_system_id AS employee_system_id,
			rec.employee_client_id AS employee_client_id,
			rec.hire_type AS hire_type,
			rec.hire_date AS hire_date,
			rec.hire_remark AS hire_remark,
			rec.dimission_type  AS dimission_type,
			rec.dimission_date  AS dimission_date,
			rec.dimission_remark   AS dimission_remark,
			rec.hire_status  AS hire_status,
	hs_emp_ord.*, ord_rec.ord_rec_id AS ord_rec_id,
	ord_rec.is_last AS is_last,
	ord_rec.cha_msg_src AS cha_msg_src
	FROM
		hs_emp_ord
	LEFT JOIN hs_emp_ord_rec ord_rec ON hs_emp_ord.order_id = ord_rec.order_id
	LEFT JOIN bd_emp_base_info p
	 ON hs_emp_ord.employee_id = p.base_info_id
	LEFT JOIN bd_emp_rec_info rec on hs_emp_ord.employee_rec_id = rec.rec_info_id
	WHERE
	hs_emp_ord.is_deleted = 0
	AND p.is_deleted = 0
	 AND ord_rec.is_deleted =0 
	AND ord_rec.is_last = 1
	AND rec.is_deleted = 0
   	AND hs_emp_ord.order_id = #{orderId}
   		<if test="companyId != null">
			AND hs_emp_ord.company_id =#{companyId}
		</if>
	</select>
	 <!--  查询订单列表  (不分页) -->
  <select id="findOrderList" parameterType="java.util.HashMap"  resultMap="orderListResult">
			  select 
			p.base_info_id AS base_info_id,
			p.employee_name AS employee_name,
			p.card_type AS card_type,
			p.card_id AS card_id,
			p.birthday  AS birthday,
			p.gender AS gender,
			p.mobile AS mobile,
			p.phone AS phone,
			p.registered_address  AS registered_address,
			p.residence_zip  AS residence_zip,
			p.residence_address  AS residence_address,
			p.work_city  AS work_city,
			p.work_address AS work_address,
			p.country_id AS country_id,
			p.nationality AS nationality,
			p.email AS email,
			p.marriage_status AS  marriage_status,
			p.education_level AS education_level,
			p.resident_type  AS resident_type,			
			p.original_employee_id AS  original_employee_id,
			p.family_insurance_address AS  family_insurance_address,
			p.address_begin_date AS address_begin_date,
			rec.rec_info_id AS rec_info_id,
			rec.employee_system_id AS employee_system_id,
			rec.employee_client_id AS employee_client_id,
			rec.hire_type AS hire_type,
			rec.hire_date AS hire_date,
			rec.hire_remark AS hire_remark,
			rec.dimission_type  AS dimission_type,
			rec.dimission_date  AS dimission_date,
			rec.dimission_remark   AS dimission_remark,
			rec.hire_status  AS hire_status,
			hs_emp_ord.*, ord_rec.ord_rec_id AS ord_rec_id,
			ord_rec.is_last AS is_last,
			ord_rec.cha_msg_src AS cha_msg_src
		FROM 
	hs_emp_ord
	LEFT JOIN hs_emp_ord_rec ord_rec ON hs_emp_ord.order_id = ord_rec.order_id
	LEFT JOIN bd_emp_base_info p
	 ON hs_emp_ord.employee_id = p.base_info_id
	LEFT JOIN bd_emp_rec_info rec on hs_emp_ord.employee_rec_id = rec.rec_info_id
    <include refid="queryParams" />
	</select>
  <!-- 批量新增更新 如果  order_id 没有就新增，如果有就更新 --> 
  <insert id="insertOrUpdateList" parameterType="list">
	  <![CDATA[
		INSERT INTO hs_emp_ord
   	    (order_id, company_id,client_id, employee_id, 
      order_status, order_create_remark, order_change_remark, 
      order_cancel_remark, create_user, create_user_id, 
      create_date, update_user, update_user_id, 
      update_date, is_deleted, employee_rec_id, 
      reducestaff, reducestaff_update_by, reducestaff_update_dt,
      customer_service, sb_status, gjj_status, 
      import_date,protocol_code
      ) 
   	    VALUES 
   	  ]]>
		<foreach collection="list" item="item"  index="index" separator=",">
	  (#{item.orderId,jdbcType=BIGINT},#{item.companyId,jdbcType=BIGINT}, #{item.clientId,jdbcType=BIGINT},
	  #{item.employeeId,jdbcType=BIGINT},
      #{item.orderStatus,jdbcType=BIGINT}, #{item.orderCreateRemark,jdbcType=VARCHAR}, #{item.orderChangeRemark,jdbcType=VARCHAR}, 
      #{item.orderCancelRemark,jdbcType=VARCHAR}, #{item.createUser,jdbcType=VARCHAR}, #{item.createUserId,jdbcType=BIGINT}, 
      #{item.createDate,jdbcType=TIMESTAMP}, #{item.updateUser,jdbcType=VARCHAR}, #{item.updateUserId,jdbcType=BIGINT}, 
      #{item.updateDate,jdbcType=TIMESTAMP}, #{item.isDeleted,jdbcType=INTEGER}, #{item.employeeRecId,jdbcType=BIGINT}, 
      #{item.reducestaff,jdbcType=VARCHAR}, #{item.reducestaffUpdateBy,jdbcType=BIGINT}, #{item.reducestaffUpdateDt,jdbcType=TIMESTAMP},
      #{item.customerService,jdbcType=VARCHAR}, 
      #{item.sbStatus,jdbcType=INTEGER}, #{item.gjjStatus,jdbcType=INTEGER}, #{item.importDate,jdbcType=TIMESTAMP},
      #{item.protocolCode,jdbcType=VARCHAR}
      )
		</foreach>		
		ON DUPLICATE KEY UPDATE
		order_id=values(order_id),
		company_id= values(company_id),
		client_id= values(client_id),
		
		employee_id=values(employee_id),
		order_status= values(order_status),
		order_create_remark=values(order_create_remark),
		
		order_change_remark= values(order_change_remark),
		order_cancel_remark=values(order_cancel_remark),		
		create_user= values(create_user),
		create_user_id=values(create_user_id),
		create_date= values(create_date),
		update_user=values(update_user),
		update_user_id= values(update_user_id),
		
		update_date= values(update_date),
		is_deleted=values(is_deleted),		
		employee_rec_id= values(employee_rec_id),
		reducestaff=values(reducestaff),
		reducestaff_update_by= values(reducestaff_update_by),
		reducestaff_update_dt=values(reducestaff_update_dt),
		
		customer_service=values(customer_service),
		sb_status=values(sb_status),
		gjj_status=values(gjj_status),
		protocol_code = values(protocol_code)
		
		
	</insert> 
  <delete id="deleteByPrimaryKey" parameterType="java.lang.Long" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    delete from hs_emp_ord
    where order_id = #{orderId,jdbcType=BIGINT}
  </delete>
  <insert id="insert" parameterType="com.jabava.pojo.hro.order.HsEmpOrd" >
    <!--
    
    -->
    insert into hs_emp_ord (order_id, company_id,client_id, employee_id, 
      order_status, order_create_remark, order_change_remark, 
      order_cancel_remark, create_user, create_user_id, 
      create_date, update_user, update_user_id, 
      update_date, is_deleted, employee_rec_id, 
      reducestaff, reducestaff_update_by, reducestaff_update_dt,
      customer_service, 
      sb_status, gjj_status, import_date
      
      )
    values (#{orderId,jdbcType=BIGINT}, #{companyId,jdbcType=BIGINT},#{clientId,jdbcType=BIGINT}, #{employeeId,jdbcType=BIGINT}, 
      #{orderStatus,jdbcType=BIGINT}, #{orderCreateRemark,jdbcType=VARCHAR}, #{orderChangeRemark,jdbcType=VARCHAR}, 
      #{orderCancelRemark,jdbcType=VARCHAR}, #{createUser,jdbcType=VARCHAR}, #{createUserId,jdbcType=BIGINT}, 
      #{createDate,jdbcType=TIMESTAMP}, #{updateUser,jdbcType=VARCHAR}, #{updateUserId,jdbcType=BIGINT}, 
      #{updateDate,jdbcType=TIMESTAMP}, #{isDeleted,jdbcType=INTEGER}, #{employeeRecId,jdbcType=BIGINT}, 
      #{reducestaff,jdbcType=VARCHAR}, #{reducestaffUpdateBy,jdbcType=BIGINT}, #{reducestaffUpdateDt,jdbcType=TIMESTAMP},
      #{customerService,jdbcType=VARCHAR}, 
      #{sbStatus,jdbcType=INTEGER}, #{gjjStatus,jdbcType=INTEGER}, #{importDate,jdbcType=TIMESTAMP}
      )
  </insert>
  <insert id="insertSelective" parameterType="com.jabava.pojo.hro.order.HsEmpOrd" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    insert into hs_emp_ord
    <trim prefix="(" suffix=")" suffixOverrides="," >
     
	    <if test="companyId != null and companyId''">
			company_id,
		</if>
      <if test="orderId != null" >
        order_id,
      </if>
      <if test="clientId != null" >
        client_id,
      </if>
      <if test="employeeId != null" >
        employee_id,
      </if>
      <if test="orderStatus != null" >
        order_status,
      </if>
      <if test="orderCreateRemark != null" >
        order_create_remark,
      </if>
      <if test="orderChangeRemark != null" >
        order_change_remark,
      </if>
      <if test="orderCancelRemark != null" >
        order_cancel_remark,
      </if>
      <if test="createUser != null" >
        create_user,
      </if>
      <if test="createUserId != null" >
        create_user_id,
      </if>
      <if test="createDate != null" >
        create_date,
      </if>
      <if test="updateUser != null" >
        update_user,
      </if>
      <if test="updateUserId != null" >
        update_user_id,
      </if>
      <if test="updateDate != null" >
        update_date,
      </if>
      <if test="isDeleted != null" >
        is_deleted,
      </if>
      <if test="employeeRecId != null" >
        employee_rec_id,
      </if>
      <if test="reducestaff != null" >
        reducestaff,
      </if>
      <if test="reducestaffUpdateBy != null" >
        reducestaff_update_by,
      </if>
      <if test="reducestaffUpdateDt != null" >
        reducestaff_update_dt,
      </if>
       <if test="customerService != null" >
        customer_service,
      </if>
      <if test="sbStatus != null" >
        sb_status,
      </if>
      <if test="gjjStatus != null" >
        gjj_status,
      </if>
      <if test="importDate != null" >
        import_date,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides="," >
       <if test="companyId != null and companyId''">
		 #{companyId,jdbcType=BIGINT},
		</if>
      <if test="orderId != null" >
        #{orderId,jdbcType=BIGINT},
      </if>
      <if test="clientId != null" >
        #{clientId,jdbcType=BIGINT},
      </if>
      <if test="employeeId != null" >
        #{employeeId,jdbcType=BIGINT},
      </if>
      <if test="orderStatus != null" >
        #{orderStatus,jdbcType=BIGINT},
      </if>
      <if test="orderCreateRemark != null" >
        #{orderCreateRemark,jdbcType=VARCHAR},
      </if>
      <if test="orderChangeRemark != null" >
        #{orderChangeRemark,jdbcType=VARCHAR},
      </if>
      <if test="orderCancelRemark != null" >
        #{orderCancelRemark,jdbcType=VARCHAR},
      </if>
      <if test="createUser != null" >
        #{createUser,jdbcType=VARCHAR},
      </if>
      <if test="createUserId != null" >
        #{createUserId,jdbcType=BIGINT},
      </if>
      <if test="createDate != null" >
        #{createDate,jdbcType=TIMESTAMP},
      </if>
      <if test="updateUser != null" >
        #{updateUser,jdbcType=VARCHAR},
      </if>
      <if test="updateUserId != null" >
        #{updateUserId,jdbcType=BIGINT},
      </if>
      <if test="updateDate != null" >
        #{updateDate,jdbcType=TIMESTAMP},
      </if>
      <if test="isDeleted != null" >
        #{isDeleted,jdbcType=INTEGER},
      </if>
      <if test="employeeRecId != null" >
        #{employeeRecId,jdbcType=BIGINT},
      </if>
      <if test="reducestaff != null" >
        #{reducestaff,jdbcType=VARCHAR},
      </if>
      <if test="reducestaffUpdateBy != null" >
        #{reducestaffUpdateBy,jdbcType=BIGINT},
      </if>
      <if test="reducestaffUpdateDt != null" >
        #{reducestaffUpdateDt,jdbcType=TIMESTAMP},
      </if>
       <if test="customerService != null" >
        #{customerService,jdbcType=VARCHAR},
      </if>
      <if test="sbStatus != null" >
        #{sbStatus,jdbcType=INTEGER},
      </if>
      <if test="gjjStatus != null" >
        #{gjjStatus,jdbcType=INTEGER},
      </if>
      <if test="importDate != null" >
        #{importDate,jdbcType=TIMESTAMP},
      </if>
    </trim>
  </insert>
  <update id="updateByPrimaryKeySelective" parameterType="com.jabava.pojo.hro.order.HsEmpOrd" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    update hs_emp_ord
    <set >
      <if test="companyId != null ">
		  company_id =#{companyId,jdbcType=BIGINT},
		</if>
      <if test="clientId != null" >
        client_id = #{clientId,jdbcType=BIGINT},
      </if>
      <if test="employeeId != null" >
        employee_id = #{employeeId,jdbcType=BIGINT},
      </if>
      <if test="orderStatus != null" >
        order_status = #{orderStatus,jdbcType=BIGINT},
      </if>
      <if test="orderCreateRemark != null" >
        order_create_remark = #{orderCreateRemark,jdbcType=VARCHAR},
      </if>
      <if test="orderChangeRemark != null" >
        order_change_remark = #{orderChangeRemark,jdbcType=VARCHAR},
      </if>
      <if test="orderCancelRemark != null" >
        order_cancel_remark = #{orderCancelRemark,jdbcType=VARCHAR},
      </if>
      <if test="createUser != null" >
        create_user = #{createUser,jdbcType=VARCHAR},
      </if>
      <if test="createUserId != null" >
        create_user_id = #{createUserId,jdbcType=BIGINT},
      </if>
      <if test="createDate != null" >
        create_date = #{createDate,jdbcType=TIMESTAMP},
      </if>
      <if test="updateUser != null" >
        update_user = #{updateUser,jdbcType=VARCHAR},
      </if>
      <if test="updateUserId != null" >
        update_user_id = #{updateUserId,jdbcType=BIGINT},
      </if>
      <if test="updateDate != null" >
        update_date = #{updateDate,jdbcType=TIMESTAMP},
      </if>
      <if test="isDeleted != null" >
        is_deleted = #{isDeleted,jdbcType=INTEGER},
      </if>
      <if test="employeeRecId != null" >
        employee_rec_id = #{employeeRecId,jdbcType=BIGINT},
      </if>
      <if test="reducestaff != null" >
        reducestaff = #{reducestaff,jdbcType=VARCHAR},
      </if>
      <if test="reducestaffUpdateBy != null" >
        reducestaff_update_by = #{reducestaffUpdateBy,jdbcType=BIGINT},
      </if>
      <if test="reducestaffUpdateDt != null" >
        reducestaff_update_dt = #{reducestaffUpdateDt,jdbcType=TIMESTAMP},
      </if>
       <if test="customerService != null and customerService!=''" >
        customer_service = #{customerService,jdbcType=VARCHAR},
      </if>
      <if test="sbStatus != null" >
        sb_status = #{sbStatus,jdbcType=INTEGER},
      </if>
      <if test="gjjStatus != null" >
        gjj_status = #{gjjStatus,jdbcType=INTEGER},
      </if>
      <if test="importDate != null" >
        import_date = #{importDate,jdbcType=TIMESTAMP},
      </if>
    </set>
    where order_id = #{orderId,jdbcType=BIGINT}
  </update>
  <update id="updateByPrimaryKey" parameterType="com.jabava.pojo.hro.order.HsEmpOrd" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    update hs_emp_ord
    set    
	  company_id =#{companyId,jdbcType=BIGINT},
      client_id = #{clientId,jdbcType=BIGINT},
      employee_id = #{employeeId,jdbcType=BIGINT},
      order_status = #{orderStatus,jdbcType=BIGINT},
      order_create_remark = #{orderCreateRemark,jdbcType=VARCHAR},
      order_change_remark = #{orderChangeRemark,jdbcType=VARCHAR},
      order_cancel_remark = #{orderCancelRemark,jdbcType=VARCHAR},
      create_user = #{createUser,jdbcType=VARCHAR},
      create_user_id = #{createUserId,jdbcType=BIGINT},
      create_date = #{createDate,jdbcType=TIMESTAMP},
      update_user = #{updateUser,jdbcType=VARCHAR},
      update_user_id = #{updateUserId,jdbcType=BIGINT},
      update_date = #{updateDate,jdbcType=TIMESTAMP},
      is_deleted = #{isDeleted,jdbcType=INTEGER},
      employee_rec_id = #{employeeRecId,jdbcType=BIGINT},
      reducestaff = #{reducestaff,jdbcType=VARCHAR},
      reducestaff_update_by = #{reducestaffUpdateBy,jdbcType=BIGINT},
      reducestaff_update_dt = #{reducestaffUpdateDt,jdbcType=TIMESTAMP},
      customer_service = #{customerService,jdbcType=VARCHAR},
      sb_status = #{sbStatus,jdbcType=INTEGER},
      gjj_status = #{gjjStatus,jdbcType=INTEGER},
      import_date = #{importDate,jdbcType=TIMESTAMP}
    where order_id = #{orderId,jdbcType=BIGINT}
  </update>
</mapper>